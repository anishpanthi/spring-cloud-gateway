spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      routes:
      - id: inventory-service
        uri: lb://inventory-service
        predicates:
          - Path=/inventory/**
#        filters:
#          - RewritePath=/inventory-service/(?<segment>.*), /${segment}
#      - id: order-service
#        uri: lb://order-service
#        predicates:
#          - Path=/order-service/**
      enabled: true
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true

server:
  port: 8080

management:
  endpoints:
    web:
      exposure:
        include: '*'
      base-path: /admin
  endpoint:
    health:
      show-details: always
    metrics:
      enabled: true
    prometheus:
      enabled: true
  info:
    git:
      mode: full
  prometheus:
    metrics:
      export:
        enabled: true

logging:
  level:
    root: info
    org.springframework.cloud.gateway: debug
